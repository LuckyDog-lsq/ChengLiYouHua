# 前端（React + Vite）

城市慢行导览的前端骨架，展示后端提供的内容点、路线与轨迹数据，并提供“发送示例轨迹”的交互。内置轻量地图可直观查看内容点与轨迹分布，并新增“内容管理”“路线规划”页面导航。

## 运行

```bash
cd frontend
npm install
npm run dev
```

默认读取 `http://localhost:8000` 的 API，可通过环境变量覆盖：

```bash
VITE_API_BASE="http://localhost:8001" npm run dev
```

## 主要文件

- `src/App.tsx`：页面结构与数据拉取逻辑。
- `src/api.ts`：与后端交互的简单封装。
- `src/types.ts`：与后端 schema 对齐的数据类型，补充了用户与权限字段。
- `src/index.css`：基础样式与导航 / 地图样式。
- `src/main.tsx`：挂载入口，包含路由。

## 用户身份与轨迹

- 轨迹查询与上传均支持通过 `user_id` 过滤或绑定，前端会在“轨迹记录”卡片中展示当前过滤条件。
- 地图卡片会将内容点、路线与当前查询到的轨迹叠加展示，便于规划与校验。

## 下一步建议

- 将轻量地图替换为真实地图 SDK（MapboxGL / Leaflet），支持缩放与底图切换。
- 接入真实用户认证，并对不同角色的内容管理操作进行鉴权校验。
- 连接后端 PostGIS，实现持久化的轨迹写入与路线规划算法。
